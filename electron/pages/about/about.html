<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>About</title>
</head>
<body>
    <div class="background" style="display: none">
        <img src="../../../dist/logo.png" alt="">
        <span class="version"></span>
        <span class="copyright">Copyright (c) 2022-present, Anthony Lu</span>
        <div class="close-button" style="display: none">
            <img src="../img/close.png" alt="" class="close-img">
        </div>
    </div>
    <script>
        const os = require("os");
        const ipcRenderer = require('electron').ipcRenderer

        const closeButton = document.querySelector('.close-button')

        closeButton.addEventListener('click', () => {
            ipcRenderer.send('close-about')
        })

        ipcRenderer.send('get-app-version')
        ipcRenderer.on('version', (event, version) => {
            document.querySelector('.version').innerText = `v${version}`
        })

        const background = document.querySelector('.background')

        const isWindows = navigator.userAgent.indexOf('Win')>=0
        const isMac = navigator.userAgent.indexOf('Mac')>=0
        const isWindows10OrAfter = os.release().split('.')[2] > 15063

        if (!isWindows || !isWindows10OrAfter) {
          background.style.backgroundColor = '#edd9b750'
        }

        if (isMac) {
          closeButton.style.display = 'none'
        } else {
          closeButton.style.display = ''
        }

        background.style.display = ''
    </script>
</body>
</html>